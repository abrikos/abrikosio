import{u as se,b as qe,h as de,Q as we,a as ke}from"./format-HFhg15Ir.js";import{c as _,m as te,r as q,l as ze,o as xe,h as i,ae as Ce,y as Ue,af as J,w as me,ag as G,g as K,ah as Be,ai as Te,aj as Ne,N as _e,D as pe,C as Re,n as Le,i as Pe,ak as je,al as $e,a2 as Ee,a9 as Z,S as De,am as Ie,an as Ae,a as Oe,ao as Qe,d as Me,a5 as He,_ as Ve,$ as We,a0 as V,f as A,a8 as Xe,a3 as ce,a4 as Ge,aa as ve,ap as fe}from"./index-C2q_0cn-.js";import{Q as Ke,_ as Ye}from"./PasswordConfirmation.vue_vue_type_script_setup_true_lang-DDSJg-jv.js";import{u as Je,a as Ze}from"./use-dark-BWSEKcF-.js";import{Q as et}from"./QPage-XgFPLdTv.js";import"./QInput-BTrgJNER.js";const tt={ratio:[String,Number]};function at(e,s){return _(()=>{const o=Number(e.ratio||(s!==void 0?s.value:void 0));return isNaN(o)!==!0&&o>0?{paddingBottom:`${100/o}%`}:null})}const lt=1.7778,rt=te({name:"QImg",props:{...tt,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:lt},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:s,emit:o}){const n=q(e.initialRatio),u=at(e,n),v=K(),{registerTimeout:y,removeTimeout:S}=se(),{registerTimeout:F,removeTimeout:k}=se(),z=_(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),L=_(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),w=[q(null),q(z.value)],d=q(0),t=q(!1),f=q(!1),x=_(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),g=_(()=>({width:e.width,height:e.height})),r=_(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),C=_(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function $(){if(k(),e.loadingShowDelay===0){t.value=!0;return}F(()=>{t.value=!0},e.loadingShowDelay)}function R(){k(),t.value=!1}function c({target:l}){G(v)===!1&&(S(),n.value=l.naturalHeight===0?.5:l.naturalWidth/l.naturalHeight,h(l,1))}function h(l,U){U===1e3||G(v)===!0||(l.complete===!0?N(l):y(()=>{h(l,U+1)},50))}function N(l){G(v)!==!0&&(d.value=d.value^1,w[d.value].value=null,R(),l.getAttribute("__qerror")!=="true"&&(f.value=!1),o("load",l.currentSrc||l.src))}function m(l){S(),R(),f.value=!0,w[d.value].value=L.value,w[d.value^1].value=z.value,o("error",l)}function b(l){const U=w[l].value,j={key:"img_"+l,class:r.value,style:C.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...U};return d.value===l?Object.assign(j,{class:j.class+"current",onLoad:c,onError:m}):j.class+="loaded",i("div",{class:"q-img__container absolute-full",key:"img"+l},i("img",j))}function P(){return t.value===!1?i("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},Ue(s[f.value===!0?"error":"default"])):i("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},s.loading!==void 0?s.loading():e.noSpinner===!0?void 0:[i(J,{color:e.spinnerColor,size:e.spinnerSize})])}{let l=function(){me(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,U=>{S(),f.value=!1,U===null?(R(),w[d.value^1].value=z.value):$(),w[d.value].value=U},{immediate:!0})};ze.value===!0?xe(l):l()}return()=>{const l=[];return u.value!==null&&l.push(i("div",{key:"filler",style:u.value})),w[0].value!==null&&l.push(b(0)),w[1].value!==null&&l.push(b(1)),l.push(i(Ce,{name:"q-transition--fade"},P)),i("div",{key:"main",class:x.value,style:g.value,role:"img","aria-label":e.alt},l)}}}),nt={...Be,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},ee=50,he=2*ee,Se=he*Math.PI,ot=Math.round(Se*1e3)/1e3,ut=te({name:"QCircularProgress",props:{...nt,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:s}){const{proxy:{$q:o}}=K(),n=Te(e),u=_(()=>{const d=(o.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(o.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-d}deg)`:`rotate3d(0, 0, 1, ${d-90}deg)`}}),v=_(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),y=_(()=>he/(1-e.thickness/2)),S=_(()=>`${y.value/2} ${y.value/2} ${y.value} ${y.value}`),F=_(()=>qe(e.value,e.min,e.max)),k=_(()=>e.max-e.min),z=_(()=>e.thickness/2*y.value),L=_(()=>{const d=(e.max-F.value)/k.value,t=e.rounded===!0&&F.value<e.max&&d<.25?z.value/2*(1-d/.25):0;return Se*d+t});function w({thickness:d,offset:t,color:f,cls:x,rounded:g}){return i("circle",{class:"q-circular-progress__"+x+(f!==void 0?` text-${f}`:""),style:v.value,fill:"transparent",stroke:"currentColor","stroke-width":d,"stroke-dasharray":ot,"stroke-dashoffset":t,"stroke-linecap":g,cx:y.value,cy:y.value,r:ee})}return()=>{const d=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&d.push(i("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:ee-z.value/2,cx:y.value,cy:y.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&d.push(w({cls:"track",thickness:z.value,offset:0,color:e.trackColor})),d.push(w({cls:"circle",thickness:z.value,offset:L.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const t=[i("svg",{class:"q-circular-progress__svg",style:u.value,viewBox:S.value,"aria-hidden":"true"},d)];return e.showValue===!0&&t.push(i("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},s.default!==void 0?s.default():[i("div",F.value)])),i("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:n.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:F.value},Ne(s.internal,t))}}});function M(e,s,o,n){const u=[];return e.forEach(v=>{n(v)===!0?u.push(v):s.push({failedPropValidation:o,file:v})}),u}function X(e){e?.dataTransfer&&(e.dataTransfer.dropEffect="copy"),pe(e)}const it={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},st=["rejected"];function dt({editable:e,dnd:s,getFileInput:o,addFilesToQueue:n}){const{props:u,emit:v,proxy:y}=K(),S=q(null),F=_(()=>u.accept!==void 0?u.accept.split(",").map(r=>(r=r.trim(),r==="*"?"*/":(r.endsWith("/*")&&(r=r.slice(0,r.length-1)),r.toUpperCase()))):null),k=_(()=>parseInt(u.maxFiles,10)),z=_(()=>parseInt(u.maxTotalSize,10));function L(r){if(e.value)if(r!==Object(r)&&(r={target:null}),r.target?.matches('input[type="file"]')===!0)r.clientX===0&&r.clientY===0&&_e(r);else{const C=o();C!==r.target&&C?.click(r)}}function w(r){e.value&&r&&n(null,r)}function d(r,C,$,R){let c=Array.from(C||r.target.files);const h=[],N=()=>{h.length!==0&&v("rejected",h)};if(u.accept!==void 0&&F.value.indexOf("*/")===-1&&(c=M(c,h,"accept",m=>F.value.some(b=>m.type.toUpperCase().startsWith(b)||m.name.toUpperCase().endsWith(b))),c.length===0))return N();if(u.maxFileSize!==void 0){const m=parseInt(u.maxFileSize,10);if(c=M(c,h,"max-file-size",b=>b.size<=m),c.length===0)return N()}if(u.multiple!==!0&&c.length!==0&&(c=[c[0]]),c.forEach(m=>{m.__key=m.webkitRelativePath+m.lastModified+m.name+m.size}),R===!0){const m=$.map(b=>b.__key);c=M(c,h,"duplicate",b=>m.includes(b.__key)===!1)}if(c.length===0)return N();if(u.maxTotalSize!==void 0){let m=R===!0?$.reduce((b,P)=>b+P.size,0):0;if(c=M(c,h,"max-total-size",b=>(m+=b.size,m<=z.value)),c.length===0)return N()}if(typeof u.filter=="function"){const m=u.filter(c);c=M(c,h,"filter",b=>m.includes(b))}if(u.maxFiles!==void 0){let m=R===!0?$.length:0;if(c=M(c,h,"max-files",()=>(m++,m<=k.value)),c.length===0)return N()}if(N(),c.length!==0)return c}function t(r){X(r),s.value!==!0&&(s.value=!0)}function f(r){pe(r),(r.relatedTarget!==null||Re.is.safari!==!0?r.relatedTarget!==S.value:document.elementsFromPoint(r.clientX,r.clientY).includes(S.value)===!1)===!0&&(s.value=!1)}function x(r){X(r);const C=r.dataTransfer.files;C.length!==0&&n(null,C),s.value=!1}function g(r){if(s.value===!0)return i("div",{ref:S,class:`q-${r}__dnd absolute-full`,onDragenter:X,onDragover:X,onDragleave:f,onDrop:x})}return Object.assign(y,{pickFiles:L,addFiles:w}),{pickFiles:L,addFiles:w,onDragover:t,onDragleave:f,processFiles:d,getDndNode:g,maxFilesNumber:k,maxTotalSizeNumber:z}}function ge(e){return(e*100).toFixed(2)+"%"}const ct={...Je,...it,label:String,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,noThumbnails:Boolean,thumbnailFit:{type:String,default:"cover"},autoUpload:Boolean,hideUploadBtn:Boolean,disable:Boolean,readonly:Boolean},be=[...st,"start","finish","added","removed"];function vt(e,s){const o=K(),{props:n,slots:u,emit:v,proxy:y}=o,{$q:S}=y,F=Ze(n,S);function k(a,p,B){if(a.__status=p,p==="idle"){a.__uploaded=0,a.__progress=0,a.__sizeLabel=de(a.size),a.__progressLabel="0.00%";return}if(p==="failed"){y.$forceUpdate();return}a.__uploaded=p==="uploaded"?a.size:B,a.__progress=p==="uploaded"?1:Math.min(.9999,a.__uploaded/a.size),a.__progressLabel=ge(a.__progress),y.$forceUpdate()}const z=_(()=>n.disable!==!0&&n.readonly!==!0),L=q(!1),w=q(null),d=q(null),t={files:q([]),queuedFiles:q([]),uploadedFiles:q([]),uploadedSize:q(0),updateFileStatus:k,isAlive:()=>G(o)===!1},{pickFiles:f,addFiles:x,onDragover:g,onDragleave:r,processFiles:C,getDndNode:$,maxFilesNumber:R,maxTotalSizeNumber:c}=dt({editable:z,dnd:L,getFileInput:re,addFilesToQueue:ne});Object.assign(t,e({props:n,slots:u,emit:v,helpers:t,exposeApi:a=>{Object.assign(t,a)}})),t.isBusy===void 0&&(t.isBusy=q(!1));const h=q(0),N=_(()=>h.value===0?0:t.uploadedSize.value/h.value),m=_(()=>ge(N.value)),b=_(()=>de(h.value)),P=_(()=>z.value===!0&&t.isUploading.value!==!0&&(n.multiple===!0||t.queuedFiles.value.length===0)&&(n.maxFiles===void 0||t.files.value.length<R.value)&&(n.maxTotalSize===void 0||h.value<c.value)),l=_(()=>z.value===!0&&t.isBusy.value!==!0&&t.isUploading.value!==!0&&t.queuedFiles.value.length!==0);De(Ie,ue);const U=_(()=>"q-uploader column no-wrap"+(F.value===!0?" q-uploader--dark q-dark":"")+(n.bordered===!0?" q-uploader--bordered":"")+(n.square===!0?" q-uploader--square no-border-radius":"")+(n.flat===!0?" q-uploader--flat no-shadow":"")+(n.disable===!0?" disabled q-uploader--disable":"")+(L.value===!0?" q-uploader--dnd":"")),j=_(()=>"q-uploader__header"+(n.color!==void 0?` bg-${n.color}`:"")+(n.textColor!==void 0?` text-${n.textColor}`:""));me(t.isUploading,(a,p)=>{p===!1&&a===!0?v("start"):p===!0&&a===!1&&v("finish")});function O(){n.disable===!1&&(t.abort(),t.uploadedSize.value=0,h.value=0,le(),t.files.value=[],t.queuedFiles.value=[],t.uploadedFiles.value=[])}function E(){n.disable===!1&&ae(["uploaded"],()=>{t.uploadedFiles.value=[]})}function W(){ae(["idle","failed"],({size:a})=>{h.value-=a,t.queuedFiles.value=[]})}function ae(a,p){if(n.disable===!0)return;const B={files:[],size:0},D=t.files.value.filter(T=>a.indexOf(T.__status)===-1?!0:(B.size+=T.size,B.files.push(T),T.__img!==void 0&&window.URL.revokeObjectURL(T.__img.src),!1));B.files.length!==0&&(t.files.value=D,p(B),v("removed",B.files))}function Y(a){n.disable||(a.__status==="uploaded"?t.uploadedFiles.value=t.uploadedFiles.value.filter(p=>p.__key!==a.__key):a.__status==="uploading"?a.__abort():h.value-=a.size,t.files.value=t.files.value.filter(p=>p.__key!==a.__key?!0:(p.__img!==void 0&&window.URL.revokeObjectURL(p.__img.src),!1)),t.queuedFiles.value=t.queuedFiles.value.filter(p=>p.__key!==a.__key),v("removed",[a]))}function le(){t.files.value.forEach(a=>{a.__img!==void 0&&window.URL.revokeObjectURL(a.__img.src)})}function re(){return d.value||w.value.getElementsByClassName("q-uploader__input")[0]}function ne(a,p){const B=C(a,p,t.files.value,!0),D=re();D!=null&&(D.value=""),B!==void 0&&(B.forEach(T=>{if(t.updateFileStatus(T,"idle"),h.value+=T.size,n.noThumbnails!==!0&&T.type.toUpperCase().startsWith("IMAGE")){const ie=new Image;ie.src=window.URL.createObjectURL(T),T.__img=ie}}),t.files.value=t.files.value.concat(B),t.queuedFiles.value=t.queuedFiles.value.concat(B),v("added",B),n.autoUpload===!0&&t.upload())}function oe(){l.value===!0&&t.upload()}function H(a,p,B){if(a===!0){const D={type:"a",key:p,icon:S.iconSet.uploader[p],flat:!0,dense:!0};let T;return p==="add"?(D.onClick=f,T=ue):D.onClick=B,i(Z,D,T)}}function ue(){return i("input",{ref:d,class:"q-uploader__input overflow-hidden absolute-full",tabindex:-1,type:"file",title:"",accept:n.accept,multiple:n.multiple===!0?"multiple":void 0,capture:n.capture,onMousedown:_e,onClick:f,onChange:ne})}function ye(){return u.header!==void 0?u.header(Q):[i("div",{class:"q-uploader__header-content column"},[i("div",{class:"flex flex-center no-wrap q-gutter-xs"},[H(t.queuedFiles.value.length!==0,"removeQueue",W),H(t.uploadedFiles.value.length!==0,"removeUploaded",E),t.isUploading.value===!0?i(J,{class:"q-uploader__spinner"}):null,i("div",{class:"col column justify-center"},[n.label!==void 0?i("div",{class:"q-uploader__title"},[n.label]):null,i("div",{class:"q-uploader__subtitle"},[b.value+" / "+m.value])]),H(P.value,"add"),H(n.hideUploadBtn===!1&&l.value===!0,"upload",t.upload),H(t.isUploading.value,"clear",t.abort)])])]}function Fe(){return u.list!==void 0?u.list(Q):t.files.value.map(a=>i("div",{key:a.__key,class:"q-uploader__file relative-position"+(n.noThumbnails!==!0&&a.__img!==void 0?" q-uploader__file--img":"")+(a.__status==="failed"?" q-uploader__file--failed":a.__status==="uploaded"?" q-uploader__file--uploaded":""),style:n.noThumbnails!==!0&&a.__img!==void 0?{backgroundImage:'url("'+a.__img.src+'")',backgroundSize:n.thumbnailFit}:null},[i("div",{class:"q-uploader__file-header row flex-center no-wrap"},[a.__status==="failed"?i(Ee,{class:"q-uploader__file-status",name:S.iconSet.type.negative,color:"negative"}):null,i("div",{class:"q-uploader__file-header-content col"},[i("div",{class:"q-uploader__title"},[a.name]),i("div",{class:"q-uploader__subtitle row items-center no-wrap"},[a.__sizeLabel+" / "+a.__progressLabel])]),a.__status==="uploading"?i(ut,{value:a.__progress,min:0,max:1,indeterminate:a.__progress===0}):i(Z,{round:!0,dense:!0,flat:!0,icon:S.iconSet.uploader[a.__status==="uploaded"?"done":"clear"],onClick:()=>{Y(a)}})])]))}Le(()=>{t.isUploading.value===!0&&t.abort(),t.files.value.length!==0&&le()});const Q={};for(const a in t)Pe(t[a])===!0?je(Q,a,()=>t[a].value):Q[a]=t[a];return Object.assign(Q,{upload:oe,reset:O,removeUploadedFiles:E,removeQueuedFiles:W,removeFile:Y,pickFiles:f,addFiles:x}),$e(Q,{canAddFiles:()=>P.value,canUpload:()=>l.value,uploadSizeLabel:()=>b.value,uploadProgressLabel:()=>m.value}),s({...t,upload:oe,reset:O,removeUploadedFiles:E,removeQueuedFiles:W,removeFile:Y,pickFiles:f,addFiles:x,canAddFiles:P,canUpload:l,uploadSizeLabel:b,uploadProgressLabel:m}),()=>{const a=[i("div",{class:j.value},ye()),i("div",{class:"q-uploader__list scroll"},Fe()),$("uploader")];t.isBusy.value===!0&&a.push(i("div",{class:"q-uploader__overlay absolute-full flex flex-center"},[i(J)]));const p={ref:w,class:U.value};return P.value===!0&&Object.assign(p,{onDragover:g,onDragleave:r}),i("div",p,a)}}const ft=()=>!0;function gt(e){const s={};return e.forEach(o=>{s[o]=ft}),s}const mt=gt(be),_t=({name:e,props:s,emits:o,injectPlugin:n})=>te({name:e,props:{...ct,...s},emits:Ae(o)===!0?{...mt,...o}:[...be,...o],setup(u,{expose:v}){return vt(n,v)}});function I(e){return typeof e=="function"?e:()=>e}const pt="QUploader",ht={url:[Function,String],method:{type:[Function,String],default:"POST"},fieldName:{type:[Function,String],default:()=>e=>e.name},headers:[Function,Array],formFields:[Function,Array],withCredentials:[Function,Boolean],sendRaw:[Function,Boolean],batch:[Function,Boolean],factory:Function},St=["factoryFailed","uploaded","failed","uploading"];function bt({props:e,emit:s,helpers:o}){const n=q([]),u=q([]),v=q(0),y=_(()=>({url:I(e.url),method:I(e.method),headers:I(e.headers),formFields:I(e.formFields),fieldName:I(e.fieldName),withCredentials:I(e.withCredentials),sendRaw:I(e.sendRaw),batch:I(e.batch)})),S=_(()=>v.value>0),F=_(()=>u.value.length!==0);let k;function z(){n.value.forEach(t=>{t.abort()}),u.value.length!==0&&(k=!0)}function L(){const t=o.queuedFiles.value.slice(0);o.queuedFiles.value=[],y.value.batch(t)?w(t):t.forEach(f=>{w([f])})}function w(t){if(v.value++,typeof e.factory!="function"){d(t,{});return}const f=e.factory(t);if(!f)s("factoryFailed",new Error("QUploader: factory() does not return properly"),t),v.value--;else if(typeof f.catch=="function"&&typeof f.then=="function"){u.value.push(f);const x=g=>{o.isAlive()===!0&&(u.value=u.value.filter(r=>r!==f),u.value.length===0&&(k=!1),o.queuedFiles.value=o.queuedFiles.value.concat(t),t.forEach(r=>{o.updateFileStatus(r,"failed")}),s("factoryFailed",g,t),v.value--)};f.then(g=>{k===!0?x(new Error("Aborted")):o.isAlive()===!0&&(u.value=u.value.filter(r=>r!==f),d(t,g))}).catch(x)}else d(t,f||{})}function d(t,f){const x=new FormData,g=new XMLHttpRequest,r=(l,U)=>f[l]!==void 0?I(f[l])(U):y.value[l](U),C=r("url",t);if(!C){console.error("q-uploader: invalid or no URL specified"),v.value--;return}const $=r("formFields",t);$!==void 0&&$.forEach(l=>{x.append(l.name,l.value)});let R=0,c=0,h=0,N=0,m;g.upload.addEventListener("progress",l=>{if(m===!0)return;const U=Math.min(N,l.loaded);o.uploadedSize.value+=U-h,h=U;let j=h-c;for(let O=R;j>0&&O<t.length;O++){const E=t[O];if(j>E.size)j-=E.size,R++,c+=E.size,o.updateFileStatus(E,"uploading",E.size);else{o.updateFileStatus(E,"uploading",j);return}}},!1),g.onreadystatechange=()=>{g.readyState<4||(g.status&&g.status<400?(o.uploadedFiles.value=o.uploadedFiles.value.concat(t),t.forEach(l=>{o.updateFileStatus(l,"uploaded")}),s("uploaded",{files:t,xhr:g})):(m=!0,o.uploadedSize.value-=h,o.queuedFiles.value=o.queuedFiles.value.concat(t),t.forEach(l=>{o.updateFileStatus(l,"failed")}),s("failed",{files:t,xhr:g})),v.value--,n.value=n.value.filter(l=>l!==g))},g.open(r("method",t),C),r("withCredentials",t)===!0&&(g.withCredentials=!0);const b=r("headers",t);b!==void 0&&b.forEach(l=>{g.setRequestHeader(l.name,l.value)});const P=r("sendRaw",t);t.forEach(l=>{o.updateFileStatus(l,"uploading",0),P!==!0&&x.append(r("fieldName",l),l,l.name),l.xhr=g,l.__abort=()=>{g.abort()},N+=l.size}),s("uploading",{files:t,xhr:g}),n.value.push(g),P===!0?g.send(new Blob(t)):g.send(x)}return{isUploading:S,isBusy:F,abort:z,upload:L}}const yt={name:pt,props:ht,emits:St,injectPlugin:bt},Ft=_t(yt);function qt(){return Oe(Qe)}const Bt=Me({__name:"CabinetPage",setup(e){const s=qt(),o=He(),n=q({password:"",password2:""}),u=q({});async function v(){if(!o.user)return;const S=await fe.put(`/user/${o.user.id}/set_password/`,n.value);S.data.error&&(u.value=S.data.error),s.notify({message:S.data.status,color:"green"})}async function y(S){if(!o.user)return;new FormData().append("file",S);const k=await fe.post(`/user/${o.user.id}/set_avatar/`,S,{headers:{"Content-Type":"multipart/form-data"}});s.notify({message:k.data.status,color:"green"})}return(S,F)=>(We(),Ve(et,null,{default:V(()=>[A(we,null,{default:V(()=>[A(ke,null,{default:V(()=>[...F[1]||(F[1]=[ce("Cabinet",-1)])]),_:1})]),_:1}),A(Ke,{onSubmit:v},{default:V(()=>[A(Ye,{modelValue:n.value,"onUpdate:modelValue":F[0]||(F[0]=k=>n.value=k),errors:u.value},null,8,["modelValue","errors"]),A(Z,{type:"submit"},{default:V(()=>[...F[2]||(F[2]=[ce("Save",-1)])]),_:1})]),_:1}),Xe("div",null,Ge(ve(o).user.avatar),1),A(rt,{src:ve(o).user.avatar},null,8,["src"]),A(Ft,{url:"",onAdded:y})]),_:1}))}});export{Bt as default};
