import{b as Ce,h as ce,u as ve,Q as Ue,a as Be}from"./format-Bz9e8em-.js";import{ae as Ne,m as le,g as Z,af as Te,c as _,h as s,ag as Re,r as q,N as _e,D as he,C as Le,w as be,n as Pe,i as $e,ah as je,ai as Ee,aj as te,ak as J,a2 as Qe,a8 as X,S as Ae,al as De,am as Ie,a as Oe,an as Me,l as Ve,o as He,ao as We,y as Xe,d as Se,_ as ye,$ as Fe,ap as Ge,a0 as I,f as R,a5 as Ke,a3 as K,a9 as W,aq as fe}from"./index-CALFROg1.js";import{Q as me,_ as Ye}from"./PasswordConfirmation.vue_vue_type_script_setup_true_lang-CHi0Bur6.js";import{Q as ge}from"./QInput-eN6HswEO.js";import{u as Je,a as Ze}from"./use-dark-jJQWRN52.js";import{Q as et}from"./QPage-CwgZSKzD.js";const tt={...Ne,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},ae=50,qe=2*ae,ke=qe*Math.PI,at=Math.round(ke*1e3)/1e3,lt=le({name:"QCircularProgress",props:{...tt,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:i}){const{proxy:{$q:r}}=Z(),u=Te(e),o=_(()=>{const c=(r.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(r.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-c}deg)`:`rotate3d(0, 0, 1, ${c-90}deg)`}}),f=_(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),y=_(()=>qe/(1-e.thickness/2)),F=_(()=>`${y.value/2} ${y.value/2} ${y.value} ${y.value}`),d=_(()=>Ce(e.value,e.min,e.max)),k=_(()=>e.max-e.min),z=_(()=>e.thickness/2*y.value),P=_(()=>{const c=(e.max-d.value)/k.value,t=e.rounded===!0&&d.value<e.max&&c<.25?z.value/2*(1-c/.25):0;return ke*c+t});function w({thickness:c,offset:t,color:m,cls:x,rounded:g}){return s("circle",{class:"q-circular-progress__"+x+(m!==void 0?` text-${m}`:""),style:f.value,fill:"transparent",stroke:"currentColor","stroke-width":c,"stroke-dasharray":at,"stroke-dashoffset":t,"stroke-linecap":g,cx:y.value,cy:y.value,r:ae})}return()=>{const c=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&c.push(s("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:ae-z.value/2,cx:y.value,cy:y.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&c.push(w({cls:"track",thickness:z.value,offset:0,color:e.trackColor})),c.push(w({cls:"circle",thickness:z.value,offset:P.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const t=[s("svg",{class:"q-circular-progress__svg",style:o.value,viewBox:F.value,"aria-hidden":"true"},c)];return e.showValue===!0&&t.push(s("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},i.default!==void 0?i.default():[s("div",d.value)])),s("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:u.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:d.value},Re(i.internal,t))}}});function V(e,i,r,u){const o=[];return e.forEach(f=>{u(f)===!0?o.push(f):i.push({failedPropValidation:r,file:f})}),o}function Y(e){e?.dataTransfer&&(e.dataTransfer.dropEffect="copy"),he(e)}const rt={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},nt=["rejected"];function ut({editable:e,dnd:i,getFileInput:r,addFilesToQueue:u}){const{props:o,emit:f,proxy:y}=Z(),F=q(null),d=_(()=>o.accept!==void 0?o.accept.split(",").map(n=>(n=n.trim(),n==="*"?"*/":(n.endsWith("/*")&&(n=n.slice(0,n.length-1)),n.toUpperCase()))):null),k=_(()=>parseInt(o.maxFiles,10)),z=_(()=>parseInt(o.maxTotalSize,10));function P(n){if(e.value)if(n!==Object(n)&&(n={target:null}),n.target?.matches('input[type="file"]')===!0)n.clientX===0&&n.clientY===0&&_e(n);else{const C=r();C!==n.target&&C?.click(n)}}function w(n){e.value&&n&&u(null,n)}function c(n,C,E,L){let v=Array.from(C||n.target.files);const b=[],T=()=>{b.length!==0&&f("rejected",b)};if(o.accept!==void 0&&d.value.indexOf("*/")===-1&&(v=V(v,b,"accept",p=>d.value.some(S=>p.type.toUpperCase().startsWith(S)||p.name.toUpperCase().endsWith(S))),v.length===0))return T();if(o.maxFileSize!==void 0){const p=parseInt(o.maxFileSize,10);if(v=V(v,b,"max-file-size",S=>S.size<=p),v.length===0)return T()}if(o.multiple!==!0&&v.length!==0&&(v=[v[0]]),v.forEach(p=>{p.__key=p.webkitRelativePath+p.lastModified+p.name+p.size}),L===!0){const p=E.map(S=>S.__key);v=V(v,b,"duplicate",S=>p.includes(S.__key)===!1)}if(v.length===0)return T();if(o.maxTotalSize!==void 0){let p=L===!0?E.reduce((S,$)=>S+$.size,0):0;if(v=V(v,b,"max-total-size",S=>(p+=S.size,p<=z.value)),v.length===0)return T()}if(typeof o.filter=="function"){const p=o.filter(v);v=V(v,b,"filter",S=>p.includes(S))}if(o.maxFiles!==void 0){let p=L===!0?E.length:0;if(v=V(v,b,"max-files",()=>(p++,p<=k.value)),v.length===0)return T()}if(T(),v.length!==0)return v}function t(n){Y(n),i.value!==!0&&(i.value=!0)}function m(n){he(n),(n.relatedTarget!==null||Le.is.safari!==!0?n.relatedTarget!==F.value:document.elementsFromPoint(n.clientX,n.clientY).includes(F.value)===!1)===!0&&(i.value=!1)}function x(n){Y(n);const C=n.dataTransfer.files;C.length!==0&&u(null,C),i.value=!1}function g(n){if(i.value===!0)return s("div",{ref:F,class:`q-${n}__dnd absolute-full`,onDragenter:Y,onDragover:Y,onDragleave:m,onDrop:x})}return Object.assign(y,{pickFiles:P,addFiles:w}),{pickFiles:P,addFiles:w,onDragover:t,onDragleave:m,processFiles:c,getDndNode:g,maxFilesNumber:k,maxTotalSizeNumber:z}}function pe(e){return(e*100).toFixed(2)+"%"}const ot={...Je,...rt,label:String,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,noThumbnails:Boolean,thumbnailFit:{type:String,default:"cover"},autoUpload:Boolean,hideUploadBtn:Boolean,disable:Boolean,readonly:Boolean},we=[...nt,"start","finish","added","removed"];function it(e,i){const r=Z(),{props:u,slots:o,emit:f,proxy:y}=r,{$q:F}=y,d=Ze(u,F);function k(a,h,B){if(a.__status=h,h==="idle"){a.__uploaded=0,a.__progress=0,a.__sizeLabel=ce(a.size),a.__progressLabel="0.00%";return}if(h==="failed"){y.$forceUpdate();return}a.__uploaded=h==="uploaded"?a.size:B,a.__progress=h==="uploaded"?1:Math.min(.9999,a.__uploaded/a.size),a.__progressLabel=pe(a.__progress),y.$forceUpdate()}const z=_(()=>u.disable!==!0&&u.readonly!==!0),P=q(!1),w=q(null),c=q(null),t={files:q([]),queuedFiles:q([]),uploadedFiles:q([]),uploadedSize:q(0),updateFileStatus:k,isAlive:()=>J(r)===!1},{pickFiles:m,addFiles:x,onDragover:g,onDragleave:n,processFiles:C,getDndNode:E,maxFilesNumber:L,maxTotalSizeNumber:v}=ut({editable:z,dnd:P,getFileInput:ue,addFilesToQueue:oe});Object.assign(t,e({props:u,slots:o,emit:f,helpers:t,exposeApi:a=>{Object.assign(t,a)}})),t.isBusy===void 0&&(t.isBusy=q(!1));const b=q(0),T=_(()=>b.value===0?0:t.uploadedSize.value/b.value),p=_(()=>pe(T.value)),S=_(()=>ce(b.value)),$=_(()=>z.value===!0&&t.isUploading.value!==!0&&(u.multiple===!0||t.queuedFiles.value.length===0)&&(u.maxFiles===void 0||t.files.value.length<L.value)&&(u.maxTotalSize===void 0||b.value<v.value)),l=_(()=>z.value===!0&&t.isBusy.value!==!0&&t.isUploading.value!==!0&&t.queuedFiles.value.length!==0);Ae(De,se);const U=_(()=>"q-uploader column no-wrap"+(d.value===!0?" q-uploader--dark q-dark":"")+(u.bordered===!0?" q-uploader--bordered":"")+(u.square===!0?" q-uploader--square no-border-radius":"")+(u.flat===!0?" q-uploader--flat no-shadow":"")+(u.disable===!0?" disabled q-uploader--disable":"")+(P.value===!0?" q-uploader--dnd":"")),j=_(()=>"q-uploader__header"+(u.color!==void 0?` bg-${u.color}`:"")+(u.textColor!==void 0?` text-${u.textColor}`:""));be(t.isUploading,(a,h)=>{h===!1&&a===!0?f("start"):h===!0&&a===!1&&f("finish")});function O(){u.disable===!1&&(t.abort(),t.uploadedSize.value=0,b.value=0,ne(),t.files.value=[],t.queuedFiles.value=[],t.uploadedFiles.value=[])}function Q(){u.disable===!1&&re(["uploaded"],()=>{t.uploadedFiles.value=[]})}function G(){re(["idle","failed"],({size:a})=>{b.value-=a,t.queuedFiles.value=[]})}function re(a,h){if(u.disable===!0)return;const B={files:[],size:0},A=t.files.value.filter(N=>a.indexOf(N.__status)===-1?!0:(B.size+=N.size,B.files.push(N),N.__img!==void 0&&window.URL.revokeObjectURL(N.__img.src),!1));B.files.length!==0&&(t.files.value=A,h(B),f("removed",B.files))}function ee(a){u.disable||(a.__status==="uploaded"?t.uploadedFiles.value=t.uploadedFiles.value.filter(h=>h.__key!==a.__key):a.__status==="uploading"?a.__abort():b.value-=a.size,t.files.value=t.files.value.filter(h=>h.__key!==a.__key?!0:(h.__img!==void 0&&window.URL.revokeObjectURL(h.__img.src),!1)),t.queuedFiles.value=t.queuedFiles.value.filter(h=>h.__key!==a.__key),f("removed",[a]))}function ne(){t.files.value.forEach(a=>{a.__img!==void 0&&window.URL.revokeObjectURL(a.__img.src)})}function ue(){return c.value||w.value.getElementsByClassName("q-uploader__input")[0]}function oe(a,h){const B=C(a,h,t.files.value,!0),A=ue();A!=null&&(A.value=""),B!==void 0&&(B.forEach(N=>{if(t.updateFileStatus(N,"idle"),b.value+=N.size,u.noThumbnails!==!0&&N.type.toUpperCase().startsWith("IMAGE")){const de=new Image;de.src=window.URL.createObjectURL(N),N.__img=de}}),t.files.value=t.files.value.concat(B),t.queuedFiles.value=t.queuedFiles.value.concat(B),f("added",B),u.autoUpload===!0&&t.upload())}function ie(){l.value===!0&&t.upload()}function H(a,h,B){if(a===!0){const A={type:"a",key:h,icon:F.iconSet.uploader[h],flat:!0,dense:!0};let N;return h==="add"?(A.onClick=m,N=se):A.onClick=B,s(X,A,N)}}function se(){return s("input",{ref:c,class:"q-uploader__input overflow-hidden absolute-full",tabindex:-1,type:"file",title:"",accept:u.accept,multiple:u.multiple===!0?"multiple":void 0,capture:u.capture,onMousedown:_e,onClick:m,onChange:oe})}function ze(){return o.header!==void 0?o.header(M):[s("div",{class:"q-uploader__header-content column"},[s("div",{class:"flex flex-center no-wrap q-gutter-xs"},[H(t.queuedFiles.value.length!==0,"removeQueue",G),H(t.uploadedFiles.value.length!==0,"removeUploaded",Q),t.isUploading.value===!0?s(te,{class:"q-uploader__spinner"}):null,s("div",{class:"col column justify-center"},[u.label!==void 0?s("div",{class:"q-uploader__title"},[u.label]):null,s("div",{class:"q-uploader__subtitle"},[S.value+" / "+p.value])]),H($.value,"add"),H(u.hideUploadBtn===!1&&l.value===!0,"upload",t.upload),H(t.isUploading.value,"clear",t.abort)])])]}function xe(){return o.list!==void 0?o.list(M):t.files.value.map(a=>s("div",{key:a.__key,class:"q-uploader__file relative-position"+(u.noThumbnails!==!0&&a.__img!==void 0?" q-uploader__file--img":"")+(a.__status==="failed"?" q-uploader__file--failed":a.__status==="uploaded"?" q-uploader__file--uploaded":""),style:u.noThumbnails!==!0&&a.__img!==void 0?{backgroundImage:'url("'+a.__img.src+'")',backgroundSize:u.thumbnailFit}:null},[s("div",{class:"q-uploader__file-header row flex-center no-wrap"},[a.__status==="failed"?s(Qe,{class:"q-uploader__file-status",name:F.iconSet.type.negative,color:"negative"}):null,s("div",{class:"q-uploader__file-header-content col"},[s("div",{class:"q-uploader__title"},[a.name]),s("div",{class:"q-uploader__subtitle row items-center no-wrap"},[a.__sizeLabel+" / "+a.__progressLabel])]),a.__status==="uploading"?s(lt,{value:a.__progress,min:0,max:1,indeterminate:a.__progress===0}):s(X,{round:!0,dense:!0,flat:!0,icon:F.iconSet.uploader[a.__status==="uploaded"?"done":"clear"],onClick:()=>{ee(a)}})])]))}Pe(()=>{t.isUploading.value===!0&&t.abort(),t.files.value.length!==0&&ne()});const M={};for(const a in t)$e(t[a])===!0?je(M,a,()=>t[a].value):M[a]=t[a];return Object.assign(M,{upload:ie,reset:O,removeUploadedFiles:Q,removeQueuedFiles:G,removeFile:ee,pickFiles:m,addFiles:x}),Ee(M,{canAddFiles:()=>$.value,canUpload:()=>l.value,uploadSizeLabel:()=>S.value,uploadProgressLabel:()=>p.value}),i({...t,upload:ie,reset:O,removeUploadedFiles:Q,removeQueuedFiles:G,removeFile:ee,pickFiles:m,addFiles:x,canAddFiles:$,canUpload:l,uploadSizeLabel:S,uploadProgressLabel:p}),()=>{const a=[s("div",{class:j.value},ze()),s("div",{class:"q-uploader__list scroll"},xe()),E("uploader")];t.isBusy.value===!0&&a.push(s("div",{class:"q-uploader__overlay absolute-full flex flex-center"},[s(te)]));const h={ref:w,class:U.value};return $.value===!0&&Object.assign(h,{onDragover:g,onDragleave:n}),s("div",h,a)}}const st=()=>!0;function dt(e){const i={};return e.forEach(r=>{i[r]=st}),i}const ct=dt(we),vt=({name:e,props:i,emits:r,injectPlugin:u})=>le({name:e,props:{...ot,...i},emits:Ie(r)===!0?{...ct,...r}:[...we,...r],setup(o,{expose:f}){return it(u,f)}});function D(e){return typeof e=="function"?e:()=>e}const ft="QUploader",mt={url:[Function,String],method:{type:[Function,String],default:"POST"},fieldName:{type:[Function,String],default:()=>e=>e.name},headers:[Function,Array],formFields:[Function,Array],withCredentials:[Function,Boolean],sendRaw:[Function,Boolean],batch:[Function,Boolean],factory:Function},gt=["factoryFailed","uploaded","failed","uploading"];function pt({props:e,emit:i,helpers:r}){const u=q([]),o=q([]),f=q(0),y=_(()=>({url:D(e.url),method:D(e.method),headers:D(e.headers),formFields:D(e.formFields),fieldName:D(e.fieldName),withCredentials:D(e.withCredentials),sendRaw:D(e.sendRaw),batch:D(e.batch)})),F=_(()=>f.value>0),d=_(()=>o.value.length!==0);let k;function z(){u.value.forEach(t=>{t.abort()}),o.value.length!==0&&(k=!0)}function P(){const t=r.queuedFiles.value.slice(0);r.queuedFiles.value=[],y.value.batch(t)?w(t):t.forEach(m=>{w([m])})}function w(t){if(f.value++,typeof e.factory!="function"){c(t,{});return}const m=e.factory(t);if(!m)i("factoryFailed",new Error("QUploader: factory() does not return properly"),t),f.value--;else if(typeof m.catch=="function"&&typeof m.then=="function"){o.value.push(m);const x=g=>{r.isAlive()===!0&&(o.value=o.value.filter(n=>n!==m),o.value.length===0&&(k=!1),r.queuedFiles.value=r.queuedFiles.value.concat(t),t.forEach(n=>{r.updateFileStatus(n,"failed")}),i("factoryFailed",g,t),f.value--)};m.then(g=>{k===!0?x(new Error("Aborted")):r.isAlive()===!0&&(o.value=o.value.filter(n=>n!==m),c(t,g))}).catch(x)}else c(t,m||{})}function c(t,m){const x=new FormData,g=new XMLHttpRequest,n=(l,U)=>m[l]!==void 0?D(m[l])(U):y.value[l](U),C=n("url",t);if(!C){console.error("q-uploader: invalid or no URL specified"),f.value--;return}const E=n("formFields",t);E!==void 0&&E.forEach(l=>{x.append(l.name,l.value)});let L=0,v=0,b=0,T=0,p;g.upload.addEventListener("progress",l=>{if(p===!0)return;const U=Math.min(T,l.loaded);r.uploadedSize.value+=U-b,b=U;let j=b-v;for(let O=L;j>0&&O<t.length;O++){const Q=t[O];if(j>Q.size)j-=Q.size,L++,v+=Q.size,r.updateFileStatus(Q,"uploading",Q.size);else{r.updateFileStatus(Q,"uploading",j);return}}},!1),g.onreadystatechange=()=>{g.readyState<4||(g.status&&g.status<400?(r.uploadedFiles.value=r.uploadedFiles.value.concat(t),t.forEach(l=>{r.updateFileStatus(l,"uploaded")}),i("uploaded",{files:t,xhr:g})):(p=!0,r.uploadedSize.value-=b,r.queuedFiles.value=r.queuedFiles.value.concat(t),t.forEach(l=>{r.updateFileStatus(l,"failed")}),i("failed",{files:t,xhr:g})),f.value--,u.value=u.value.filter(l=>l!==g))},g.open(n("method",t),C),n("withCredentials",t)===!0&&(g.withCredentials=!0);const S=n("headers",t);S!==void 0&&S.forEach(l=>{g.setRequestHeader(l.name,l.value)});const $=n("sendRaw",t);t.forEach(l=>{r.updateFileStatus(l,"uploading",0),$!==!0&&x.append(n("fieldName",l),l,l.name),l.xhr=g,l.__abort=()=>{g.abort()},T+=l.size}),i("uploading",{files:t,xhr:g}),u.value.push(g),$===!0?g.send(new Blob(t)):g.send(x)}return{isUploading:F,isBusy:d,abort:z,upload:P}}const _t={name:ft,props:mt,emits:gt,injectPlugin:pt},ht=vt(_t);function bt(){return Oe(Me)}const St={ratio:[String,Number]};function yt(e,i){return _(()=>{const r=Number(e.ratio||(i!==void 0?i.value:void 0));return isNaN(r)!==!0&&r>0?{paddingBottom:`${100/r}%`}:null})}const Ft=1.7778,qt=le({name:"QImg",props:{...St,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Ft},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:i,emit:r}){const u=q(e.initialRatio),o=yt(e,u),f=Z(),{registerTimeout:y,removeTimeout:F}=ve(),{registerTimeout:d,removeTimeout:k}=ve(),z=_(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),P=_(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),w=[q(null),q(z.value)],c=q(0),t=q(!1),m=q(!1),x=_(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),g=_(()=>({width:e.width,height:e.height})),n=_(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),C=_(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function E(){if(k(),e.loadingShowDelay===0){t.value=!0;return}d(()=>{t.value=!0},e.loadingShowDelay)}function L(){k(),t.value=!1}function v({target:l}){J(f)===!1&&(F(),u.value=l.naturalHeight===0?.5:l.naturalWidth/l.naturalHeight,b(l,1))}function b(l,U){U===1e3||J(f)===!0||(l.complete===!0?T(l):y(()=>{b(l,U+1)},50))}function T(l){J(f)!==!0&&(c.value=c.value^1,w[c.value].value=null,L(),l.getAttribute("__qerror")!=="true"&&(m.value=!1),r("load",l.currentSrc||l.src))}function p(l){F(),L(),m.value=!0,w[c.value].value=P.value,w[c.value^1].value=z.value,r("error",l)}function S(l){const U=w[l].value,j={key:"img_"+l,class:n.value,style:C.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...U};return c.value===l?Object.assign(j,{class:j.class+"current",onLoad:v,onError:p}):j.class+="loaded",s("div",{class:"q-img__container absolute-full",key:"img"+l},s("img",j))}function $(){return t.value===!1?s("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},Xe(i[m.value===!0?"error":"default"])):s("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},i.loading!==void 0?i.loading():e.noSpinner===!0?void 0:[s(te,{color:e.spinnerColor,size:e.spinnerSize})])}{let l=function(){be(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,U=>{F(),m.value=!1,U===null?(L(),w[c.value^1].value=z.value):E(),w[c.value].value=U},{immediate:!0})};Ve.value===!0?He(l):l()}return()=>{const l=[];return o.value!==null&&l.push(s("div",{key:"filler",style:o.value})),w[0].value!==null&&l.push(S(0)),w[1].value!==null&&l.push(S(1)),l.push(s(We,{name:"q-transition--fade"},$)),s("div",{key:"main",class:x.value,style:g.value,role:"img","aria-label":e.alt},l)}}}),kt=Se({__name:"UserAvatar",props:{user:{default:()=>({})}},setup(e){const i=e;return(r,u)=>(Fe(),ye(Ge,{size:"150px"},{default:I(()=>[R(qt,{src:i.user.avatar||"/static/no-avatar.png"},null,8,["src"])]),_:1}))}}),Nt=Se({__name:"CabinetPage",setup(e){const i=bt(),r=Ke(),u=q({password:"",password2:""}),o=q({});async function f(F){if(!r.user)return;F&&(r.user.avatar=null);const d=await fe.patch(`/user/${r.user.id}/`,r.user);i.notify({message:d.data.status,color:"green"})}async function y(F){if(!r.user)return;const d=await fe.post(`/user/${r.user.id}/set_avatar/`,F,{headers:{"Content-Type":"multipart/form-data"}});i.notify({message:d.data.status,color:"green"})}return(F,d)=>(Fe(),ye(et,null,{default:I(()=>[R(Ue,null,{default:I(()=>[R(Be,null,{default:I(()=>[...d[4]||(d[4]=[K("Cabinet",-1)])]),_:1})]),_:1}),R(me,{onSubmit:F.setPassword},{default:I(()=>[R(Ye,{modelValue:u.value,"onUpdate:modelValue":d[0]||(d[0]=k=>u.value=k),errors:o.value},null,8,["modelValue","errors"]),R(X,{type:"submit"},{default:I(()=>[...d[5]||(d[5]=[K("Save",-1)])]),_:1})]),_:1},8,["onSubmit"]),R(me,{onSubmit:f},{default:I(()=>[R(ge,{modelValue:W(r).user.first_name,"onUpdate:modelValue":d[1]||(d[1]=k=>W(r).user.first_name=k),label:"First Name"},null,8,["modelValue"]),R(ge,{modelValue:W(r).user.last_name,"onUpdate:modelValue":d[2]||(d[2]=k=>W(r).user.last_name=k),label:"Last Name"},null,8,["modelValue"]),R(X,{type:"submit"},{default:I(()=>[...d[6]||(d[6]=[K("Save",-1)])]),_:1})]),_:1}),R(kt,{user:W(r).user},null,8,["user"]),R(X,{onClick:d[3]||(d[3]=k=>f(!0))},{default:I(()=>[...d[7]||(d[7]=[K("Delete",-1)])]),_:1}),R(ht,{url:"",onAdded:y})]),_:1}))}});export{Nt as default};
