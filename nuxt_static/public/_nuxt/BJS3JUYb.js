import{d as C,Q as k,g as i,o as y,n as B,S,C as e,q as U,W as N,X as z,f as D,x as Q,B as t,D as a,K as s,z as _,U as R,A as T}from"./CmHhmHmu.js";import{_ as $,a as A}from"./BI3WnDYz.js";import{_ as I}from"./B3CrpATk.js";import{_ as K,a as M}from"./DNpDKz2V.js";const H=C({__name:"login",setup(W){const{loggedUser:d,login:c}=k(),f=U();z();const n=i(f.app.buildId==="dev"?{email:"abrikoz@gmail.com",password:"1"}:{email:"",password:""}),u=i();async function x(){u.value=await c(n.value)}y(()=>{d&&B("/users/cabinet")});function b(){n.value={email:"",password:""}}return(X,o)=>{const g=A,w=$,m=K,q=R,l=M,p=D("router-link"),V=I,v=N;return Q(),S(v,{class:"q-pa-sm"},{default:e(()=>[t(w,null,{default:e(()=>[t(g,null,{default:e(()=>[...o[2]||(o[2]=[a("Вход",-1)])]),_:1})]),_:1}),t(V,{onSubmit:x,onReset:b},{default:e(()=>[t(m,{modelValue:s(n).email,"onUpdate:modelValue":o[0]||(o[0]=r=>s(n).email=r),label:"Логин"},null,8,["modelValue"]),o[5]||(o[5]=_("br",null,null,-1)),t(m,{modelValue:s(n).password,"onUpdate:modelValue":o[1]||(o[1]=r=>s(n).password=r),label:"Пароль",type:"password"},null,8,["modelValue"]),t(l,{class:"text-center"},{default:e(()=>[t(q,{class:"full-width",type:"submit",label:"Вход",color:"primary",flat:!1})]),_:1}),t(l,null,{default:e(()=>[_("div",null,[t(p,{to:"/users/registration"},{default:e(()=>[...o[3]||(o[3]=[a("Зарегистрироваться",-1)])]),_:1})]),_("div",null,[t(p,{to:"/users/password-restore"},{default:e(()=>[...o[4]||(o[4]=[a("Восстановить пароль",-1)])]),_:1})])]),_:1}),t(l,{class:"text-red"},{default:e(()=>[a(T(s(u)?.error),1)]),_:1})]),_:1})]),_:1})}}});export{H as default};
